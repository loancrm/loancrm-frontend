<div class="bread-crumb m-2">
  <p-breadcrumb [model]="breadCrumbItems"></p-breadcrumb>
</div>
<div class="p-1 m-2 fixed-card">
  <div class="d-flex justify-content-between">
    <div
      class="d-flex align-items-center justify-content-center pointer-cursor"
      (click)="goBack()"
    >
      <span class="me-2 d-flex align-items-center">
        <img src="../../../assets/images/icons/left-arrow.svg" alt="Back" />
      </span>
      <div
        *ngIf="leadData && leadData[0]?.businessName"
        class="fw-bold back-btn-text text-capitalize"
      >
        Upload files for {{ leadData[0]?.businessName | capitalizeFirst }}
      </div>
    </div>
  </div>
</div>

<div *ngIf="loading">
  <app-preloader></app-preloader>
</div>
<div class="file-upload-steps m-2" *ngIf="!loading">
  <p-tabMenu
    [model]="items"
    class="tabdesign"
    [activeItem]="activeItem"
    (activeItemChange)="onActiveItemChange($event)"
  ></p-tabMenu>
  <div class="mt-2 card leaddata" *ngIf="leadData">
    <div *ngIf="activeItem && activeItem.name">
      <div *ngIf="leadData[0]?.businessEntity == 'proprietorship'">
        <div *ngIf="activeItem.name == 'cibil'">
          <div>
            <div class="row">
              <div class="">
                <h5 style="font-weight: bold; color: #29415b">
                  Proprietor Details
                </h5>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Applicant Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Applicant Name "
                    [(ngModel)]="applicantName"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>PAN Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="applicantPan"
                    autocomplete="off"
                    required
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Aadhaar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhaar Number"
                    [(ngModel)]="applicantAadhaar"
                    autocomplete="off"
                    required
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Email&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Email"
                    [(ngModel)]="applicantEmail"
                    autocomplete="off"
                    required
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label
                      >Cibil Score&nbsp; &nbsp;<span
                        class="fw-bold pointer-cursor text-primary"
                        (click)="goToCibilScoreCheck()"
                        >Check</span
                      >
                    </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Cibil Score"
                    [(ngModel)]="cibilScore"
                    autocomplete="off"
                    required
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Cibil Report&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('cibilReport', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.cibilReport &&
                    leadDocuments.cibilReport.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.cibilReport"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'cibilReport')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div
            class="row mb-5 mt-4"
            *ngFor="let cibil of coApplicantCibil; let i = index"
          >
            <div class="d-flex">
              <h5 style="font-weight: bold; color: #29415b">
                Co-Applicant Details
              </h5>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Co-Applicant Name"
                  [(ngModel)]="cibil['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant PAN Number &nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter PAN Number"
                  [(ngModel)]="cibil['panNumber']"
                  autocomplete="off"
                  pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Aadhar Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Aadhar Number"
                  [(ngModel)]="cibil['aadharNumber']"
                  autocomplete="off"
                  pattern="[0-9]{12}"
                  maxlength="12"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Mobile Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Mobile Number"
                  [(ngModel)]="cibil['mobileNumber']"
                  autocomplete="off"
                  pattern="[0-9]{10}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label
                    >Cibil Score&nbsp; &nbsp;<span
                      class="fw-bold pointer-cursor text-primary"
                      (click)="goToCibilScoreCheck()"
                      >Check</span
                    >
                  </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Cibil Score"
                  [(ngModel)]="cibil['cibilScore']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Cibil Report </label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('coApplicantCibilReport', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.coApplicantCibil &&
                  leadDocuments.coApplicantCibil[i] &&
                  leadDocuments.coApplicantCibil[i].coApplicantCibilReport &&
                  leadDocuments.coApplicantCibil[i].coApplicantCibilReport
                    .length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.coApplicantCibil[i]
                      .coApplicantCibilReport;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(
                        file,
                        'coApplicantCibilReport',
                        i,
                        fileIndex
                      )
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveCibilSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'kycs'">
          <div>
            <div class="row">
              <div class="p-3">
                <h5 style="font-weight: bold; color: #29415b">
                  Proprietor KYCs
                </h5>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Applicant Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Applicant Name "
                    [(ngModel)]="applicantName"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>PAN Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="applicantPan"
                    autocomplete="off"
                    required
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Aadhaar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhaar Number"
                    [(ngModel)]="applicantAadhaar"
                    autocomplete="off"
                    required
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Pan Card&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('panCard', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.panCard &&
                    leadDocuments.panCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.panCard"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'panCard')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Aadhaar Card&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('aadharCard', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.aadharCard &&
                    leadDocuments.aadharCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.aadharCard"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'aadharCard')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Applicant Photo&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('applicantPhoto', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.applicantPhoto &&
                    leadDocuments.applicantPhoto.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.applicantPhoto"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'applicantPhoto')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Voter Id&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('voterId', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.voterId &&
                    leadDocuments.voterId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.voterId"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'voterId')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <div>
              <div class="my-1 text-start mt-4">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-primary me-2"
                  (click)="addkycOtherDocumentsRow()"
                >
                  <i class="pi pi-plus"></i>&nbsp;Add Additional Documents
                </button>
              </div>
              <div
                class="row"
                *ngFor="let attachments of kycOtherDocuments; let i = index"
              >
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label>Other Documents &nbsp;</label>
                    </div>
                    <input
                      pInputText
                      class="rounded-lg"
                      [style]="{ width: '100%' }"
                      type="text"
                      placeholder="Enter Document Name"
                      [(ngModel)]="attachments['name']"
                      autocomplete="off"
                    />
                  </div>
                </div>
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label class="">Attachments</label>
                    </div>
                    <div class="d-flex">
                      <button
                        pButton
                        pRipple
                        type="button"
                        class="p-button-info"
                        (click)="uploadFiles('kycOtherDocuments', '*/*', i)"
                      >
                        <i class="pi pi-upload"></i>&nbsp;Upload Files
                      </button>
                      <button
                        pButton
                        pRipple
                        type="button"
                        class="p-button-danger ml-1"
                        *ngIf="i > 0"
                        (click)="deletekycOtherDocumentsRow(i)"
                      >
                        <i class="pi pi-times"></i>
                      </button>
                    </div>
                  </div>
                  <div
                    *ngIf="
                      leadDocuments &&
                      leadDocuments.kycOtherDocuments &&
                      leadDocuments.kycOtherDocuments[i] &&
                      leadDocuments.kycOtherDocuments[i].kycOtherDocuments &&
                      leadDocuments.kycOtherDocuments[i].kycOtherDocuments
                        .length > 0
                    "
                    class="mt-2"
                  >
                    <span
                      *ngFor="
                        let file of leadDocuments.kycOtherDocuments[i]
                          .kycOtherDocuments;
                        let fileIndex = index
                      "
                      class="file-wrapper"
                    >
                      <a [href]="'//' + file" target="_blank">
                        <i
                          [class]="getFileIcon(file.split('.').pop())"
                          class="file-icon me-2"
                        ></i>
                      </a>
                      <button
                        pButton
                        *ngIf="this.capabilities.delete"
                        type="button"
                        class="delete-btn p-button-danger p-button-sm"
                        (click)="
                          confirmDelete(file, 'kycOtherDocuments', i, fileIndex)
                        "
                      >
                        <i class="pi pi-times"></i>
                      </button>
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="p-3">
                <h5 style="font-weight: bold; color: #29415b">
                  Co-Applicant KYCs
                </h5>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Co-Applicant Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Co-Applicant Name "
                    [(ngModel)]="coApplicantName"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Relation With Applicant &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Relation with Applicant "
                    [(ngModel)]="applicantRelation"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2"></div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Co-Applicant Photo&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('coApplicantPhoto', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.coApplicantPhoto &&
                    leadDocuments.coApplicantPhoto.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.coApplicantPhoto"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'coApplicantPhoto')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Co-Applicant Pan Card&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('coApplicantPan', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.coApplicantPan &&
                    leadDocuments.coApplicantPan.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.coApplicantPan"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'coApplicantPan')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Co-Applicant Aadhar Card&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('coApplicantAadhaar', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.coApplicantAadhaar &&
                    leadDocuments.coApplicantAadhaar.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.coApplicantAadhaar"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'coApplicantAadhaar')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Co-Applicant Voter Id&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('coApplicantVoterId', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.coApplicantVoterId &&
                    leadDocuments.coApplicantVoterId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.coApplicantVoterId"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'coApplicantVoterId')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <div>
              <div class="my-1 text-start mt-4">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-primary me-2"
                  (click)="addcoApplicantOtherDocumentsRow()"
                >
                  <i class="pi pi-plus"></i>&nbsp;Add Additional Documents
                </button>
              </div>
              <div
                class="row"
                *ngFor="
                  let attachments of coApplicantOtherDocuments;
                  let i = index
                "
              >
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label>Other Documents &nbsp;</label>
                    </div>
                    <input
                      pInputText
                      class="rounded-lg"
                      [style]="{ width: '100%' }"
                      type="text"
                      placeholder="Enter Document Name"
                      [(ngModel)]="attachments['name']"
                      autocomplete="off"
                    />
                  </div>
                </div>
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label class="">Attachments</label>
                    </div>
                    <div class="d-flex">
                      <button
                        pButton
                        pRipple
                        type="button"
                        class="p-button-info"
                        (click)="
                          uploadFiles('coApplicantOtherDocuments', '*/*', i)
                        "
                      >
                        <i class="pi pi-upload"></i>&nbsp;Upload Files
                      </button>
                      <button
                        pButton
                        pRipple
                        type="button"
                        class="p-button-danger ml-1"
                        *ngIf="i > 0"
                        (click)="deletecoApplicantOtherDocumentsRow(i)"
                      >
                        <i class="pi pi-times"></i>
                      </button>
                    </div>
                  </div>
                  <div
                    *ngIf="
                      leadDocuments &&
                      leadDocuments.coApplicantOtherDocuments &&
                      leadDocuments.coApplicantOtherDocuments[i] &&
                      leadDocuments.coApplicantOtherDocuments[i]
                        .coApplicantOtherDocuments &&
                      leadDocuments.coApplicantOtherDocuments[i]
                        .coApplicantOtherDocuments.length > 0
                    "
                    class="mt-2"
                  >
                    <span
                      *ngFor="
                        let file of leadDocuments.coApplicantOtherDocuments[i]
                          .coApplicantOtherDocuments;
                        let fileIndex = index
                      "
                      class="file-wrapper"
                    >
                      <a [href]="'//' + file" target="_blank">
                        <i
                          [class]="getFileIcon(file.split('.').pop())"
                          class="file-icon me-2"
                        ></i>
                      </a>
                      <button
                        pButton
                        *ngIf="this.capabilities.delete"
                        type="button"
                        class="delete-btn p-button-danger p-button-sm"
                        (click)="
                          confirmDelete(
                            file,
                            'coApplicantOtherDocuments',
                            i,
                            fileIndex
                          )
                        "
                      >
                        <i class="pi pi-times"></i>
                      </button>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveKycsSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'businessdetails'">
          <div>
            <div class="row">
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> GST Certificate&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('gstCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.gstCertificate &&
                    leadDocuments.gstCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.gstCertificate"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'gstCertificate')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Labour / Trade License &nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('labourTradeLicense', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.labourTradeLicense &&
                    leadDocuments.labourTradeLicense.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.labourTradeLicense"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'labourTradeLicense')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">VAT / TIN / TOT&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('vatTinTot', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.vatTinTot &&
                    leadDocuments.vatTinTot.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.vatTinTot"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'vatTinTot')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> MSME / UDYAM Certificate&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('msmeUdyamCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.msmeUdyamCertificate &&
                    leadDocuments.msmeUdyamCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.msmeUdyamCertificate"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'msmeUdyamCertificate')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveBusinessDetails()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </div>
      <div
        *ngIf="
          leadData[0]?.businessEntity === 'partnership' ||
          leadData[0]?.businessEntity === 'llp'
        "
      >
        <div *ngIf="activeItem.name == 'cibil'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPartnersCibilRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Partner
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of partnerCibil; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #29415b">
                  Partner-{{ i + 1 }} Cibil
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deletePartnersCibilRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label
                      >Cibil Score&nbsp; &nbsp;<span
                        class="fw-bold pointer-cursor text-primary"
                        (click)="goToCibilScoreCheck()"
                        >Check</span
                      >
                    </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['cibilScore']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Cibil Report </label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerCibilReport', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerCibil &&
                    leadDocuments.partnerCibil[i] &&
                    leadDocuments.partnerCibil[i].partnerCibilReport &&
                    leadDocuments.partnerCibil[i].partnerCibilReport.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerCibil[i]
                        .partnerCibilReport;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnerCibilReport', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="savePartnersCibil()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'kycs'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPartnersKycsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Partner
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of partnerKycs; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #29415b">
                  Partner-{{ i + 1 }} KYC
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deletePartnersKycsRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">PanCard</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerpanCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerKycs &&
                    leadDocuments.partnerKycs[i] &&
                    leadDocuments.partnerKycs[i].partnerpanCard &&
                    leadDocuments.partnerKycs[i].partnerpanCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerKycs[i].partnerpanCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnerpanCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Aadhar Card</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partneraadharCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerKycs &&
                    leadDocuments.partnerKycs[i] &&
                    leadDocuments.partnerKycs[i].partneraadharCard &&
                    leadDocuments.partnerKycs[i].partneraadharCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerKycs[i]
                        .partneraadharCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partneraadharCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Partner Photo</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerPhoto', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerKycs &&
                    leadDocuments.partnerKycs[i] &&
                    leadDocuments.partnerKycs[i].partnerPhoto &&
                    leadDocuments.partnerKycs[i].partnerPhoto.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerKycs[i].partnerPhoto;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnerPhoto', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Voter Id</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnervoterId', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerKycs &&
                    leadDocuments.partnerKycs[i] &&
                    leadDocuments.partnerKycs[i].partnervoterId &&
                    leadDocuments.partnerKycs[i].partnervoterId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerKycs[i].partnervoterId;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnervoterId', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['partnerdocName1']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerotherDocuments1', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerKycs &&
                    leadDocuments.partnerKycs[i] &&
                    leadDocuments.partnerKycs[i].partnerotherDocuments1 &&
                    leadDocuments.partnerKycs[i].partnerotherDocuments1.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerKycs[i]
                        .partnerotherDocuments1;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'partnerotherDocuments1',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['partnerdocName2']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerotherDocuments2', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnerKycs &&
                    leadDocuments.partnerKycs[i] &&
                    leadDocuments.partnerKycs[i].partnerotherDocuments2 &&
                    leadDocuments.partnerKycs[i].partnerotherDocuments2.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.partnerKycs[i]
                        .partnerotherDocuments2;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'partnerotherDocuments2',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="savePartnersKycs()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'businessdetails'">
          <div>
            <div
              class="row"
              *ngFor="let attachments of firmPanCard; let i = index"
            >
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Firm Pan Card &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Firm Pan Number"
                    [(ngModel)]="attachments['firmPan']"
                    autocomplete="off"
                    maxlength="10"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachment</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('firmPanCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.firmPanCard &&
                    leadDocuments.firmPanCard[i] &&
                    leadDocuments.firmPanCard[i].firmPanCard &&
                    leadDocuments.firmPanCard[i].firmPanCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.firmPanCard[i].firmPanCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'firmPanCard', i, fileIndex)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div
                class="col-md-4 mt-2"
                *ngIf="leadData[0]?.businessEntity === 'partnership'"
              >
                <div>
                  <div class="my-1">
                    <label class="">
                      Firm Registration Certificate &nbsp;
                    </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('firmRegistrationCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.firmRegistrationCertificate &&
                    leadDocuments.firmRegistrationCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.firmRegistrationCertificate
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'firmRegistrationCertificate')
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div
                class="col-md-4 mt-2"
                *ngIf="leadData[0]?.businessEntity === 'llp'"
              >
                <div>
                  <div class="my-1">
                    <label class="">
                      Certificate of Incorporation &nbsp;
                    </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="
                      uploadFiles('llpCertificateofIncorporation', '*/*')
                    "
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.llpCertificateofIncorporation &&
                    leadDocuments.llpCertificateofIncorporation.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.llpCertificateofIncorporation
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'llpCertificateofIncorporation')
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div
                class="col-md-4 mt-2"
                *ngIf="leadData[0]?.businessEntity === 'partnership'"
              >
                <div>
                  <div class="my-1">
                    <label class=""> Partnership Deed&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('partnershipDeed', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.partnershipDeed &&
                    leadDocuments.partnershipDeed.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.partnershipDeed"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'partnershipDeed')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div
                class="col-md-4 mt-2"
                *ngIf="leadData[0]?.businessEntity === 'llp'"
              >
                <div>
                  <div class="my-1">
                    <label class=""> LLP Deed&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('llpDeed', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.llpDeed &&
                    leadDocuments.llpDeed.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.llpDeed"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'llpDeed')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">GST Certificate&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('firmGstCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.firmGstCertificate &&
                    leadDocuments.firmGstCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.firmGstCertificate"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'firmGstCertificate')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> MSME / UDYAM Certificate&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('firmmsmeUdyamCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.firmmsmeUdyamCertificate &&
                    leadDocuments.firmmsmeUdyamCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.firmmsmeUdyamCertificate"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'firmmsmeUdyamCertificate')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="savePartnershipBusinessDetails()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </div>
      <div *ngIf="leadData[0]?.businessEntity == 'privateLimited'">
        <div *ngIf="activeItem.name == 'cibil'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addDirectorsCibilRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Director
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of directorCibil; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #29415b">
                  Director-{{ i + 1 }} Cibil
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deleteDirectorsCibilRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label
                      >Cibil Score&nbsp; &nbsp;<span
                        class="fw-bold pointer-cursor text-primary"
                        (click)="goToCibilScoreCheck()"
                        >Check</span
                      >
                    </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['cibilScore']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Cibil Report </label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorCibilReport', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorCibil &&
                    leadDocuments.directorCibil[i] &&
                    leadDocuments.directorCibil[i].directorCibilReport &&
                    leadDocuments.directorCibil[i].directorCibilReport.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorCibil[i]
                        .directorCibilReport;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorCibilReport', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveDirectorsCibil()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'kycs'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addDirectorsKycsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Director
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of directorsKycs; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #29415b">
                  Director-{{ i + 1 }} KYC
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deleteDirectorsKycsRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">PanCard</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorpanCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorsKycs &&
                    leadDocuments.directorsKycs[i] &&
                    leadDocuments.directorsKycs[i].directorpanCard &&
                    leadDocuments.directorsKycs[i].directorpanCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorsKycs[i]
                        .directorpanCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorpanCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Aadhar Card</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directoraadharCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorsKycs &&
                    leadDocuments.directorsKycs[i] &&
                    leadDocuments.directorsKycs[i].directoraadharCard &&
                    leadDocuments.directorsKycs[i].directoraadharCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorsKycs[i]
                        .directoraadharCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directoraadharCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Director Photo</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorPhoto', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorsKycs &&
                    leadDocuments.directorsKycs[i] &&
                    leadDocuments.directorsKycs[i].directorPhoto &&
                    leadDocuments.directorsKycs[i].directorPhoto.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorsKycs[i].directorPhoto;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorPhoto', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Voter Id</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorvoterId', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorsKycs &&
                    leadDocuments.directorsKycs[i] &&
                    leadDocuments.directorsKycs[i].directorvoterId &&
                    leadDocuments.directorsKycs[i].directorvoterId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorsKycs[i]
                        .directorvoterId;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorvoterId', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['directordocName1']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorotherDocuments1', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorsKycs &&
                    leadDocuments.directorsKycs[i] &&
                    leadDocuments.directorsKycs[i].directorotherDocuments1 &&
                    leadDocuments.directorsKycs[i].directorotherDocuments1
                      .length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorsKycs[i]
                        .directorotherDocuments1;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'directorotherDocuments1',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['directordocName2']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorotherDocuments2', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.directorsKycs &&
                    leadDocuments.directorsKycs[i] &&
                    leadDocuments.directorsKycs[i].directorotherDocuments2 &&
                    leadDocuments.directorsKycs[i].directorotherDocuments2
                      .length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.directorsKycs[i]
                        .directorotherDocuments2;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'directorotherDocuments2',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveDirectorsKycs()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>

        <div *ngIf="activeItem.name == 'businessdetails'">
          <div>
            <div
              class="row"
              *ngFor="let attachments of companyPan; let i = index"
            >
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Company Pan Card &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Firm Pan Number"
                    [(ngModel)]="attachments['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachment</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('companyPan', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments?.companyPan &&
                    leadDocuments?.companyPan[i] &&
                    leadDocuments?.companyPan[i].companyPan &&
                    leadDocuments?.companyPan[i].companyPan.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments?.companyPan[i]?.companyPan;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'companyPan', i, fileIndex)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Incorporation Certificate &nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('incorporationCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.incorporationCertificate &&
                    leadDocuments.incorporationCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.incorporationCertificate"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'incorporationCertificate')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> MOA and AOA&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('moaandaoa', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.moaandaoa &&
                    leadDocuments.moaandaoa.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.moaandaoa"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'moaandaoa')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">GST Certificate&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('companyGst', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.companyGst &&
                    leadDocuments.companyGst.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.companyGst"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'companyGst')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> MSME / Udyam Certificate&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('companyMSMEUdyamCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.companyMSMEUdyamCertificate &&
                    leadDocuments.companyMSMEUdyamCertificate.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of leadDocuments.companyMSMEUdyamCertificate
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'companyMSMEUdyamCertificate')
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Share holding pattern &nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('shareHoldingPattern', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    leadDocuments &&
                    leadDocuments.shareHoldingPattern &&
                    leadDocuments.shareHoldingPattern.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of leadDocuments.shareHoldingPattern"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="confirmDelete(file, 'shareHoldingPattern')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="savePrivateBusinessDetails()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'bankStatements'">
        <div>
          <div class="">
            <h5 style="font-weight: bold; color: #29415b">Current Accounts</h5>
          </div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addcurrentAccountStatementsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Current Account
            </button>
          </div>
          <div
            class="row"
            *ngFor="let statements of currentAccountStatements; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="statements['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>From&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select From Date"
                  appendTo="body"
                  [showIcon]="true"
                  [(ngModel)]="statements['from']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #statementfromcalendar
                    [(ngModel)]="statements['from']"
                    placeholder="Select From Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass="w-100 custom-calendar-input"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="statementfromcalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>To&nbsp; </label>
                </div>
                <!-- <p-calendar
                  [(ngModel)]="statements['to']"
                  appendTo="body"
                  placeholder="Select To Date"
                  [showIcon]="true"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #statementtocalendar
                    [(ngModel)]="statements['to']"
                    placeholder="Select To Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass=" w-100"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="statementtocalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('currentAccountStatements', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deletecurrentAccountStatementsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.currentAccountStatements &&
                  leadDocuments.currentAccountStatements[i] &&
                  leadDocuments.currentAccountStatements[i]
                    .currentAccountStatements &&
                  leadDocuments.currentAccountStatements[i]
                    .currentAccountStatements.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.currentAccountStatements[i]
                      .currentAccountStatements;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(
                        file,
                        'currentAccountStatements',
                        i,
                        fileIndex
                      )
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div>
          <div class="mt-4">
            <h5 style="font-weight: bold; color: #29415b">OD Accounts</h5>
          </div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addodAccountStatementsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional OD Account
            </button>
          </div>
          <div
            class="row"
            *ngFor="let statements of odAccountStatements; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="statements['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>From&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select From Date"
                  appendTo="body"
                  [showIcon]="true"
                  [(ngModel)]="statements['from']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #fromcalendar
                    [(ngModel)]="statements['from']"
                    placeholder="Select From Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass=" w-100"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="fromcalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>To&nbsp; </label>
                </div>
                <!-- <p-calendar
                  [(ngModel)]="statements['to']"
                  appendTo="body"
                  placeholder="Select To Date"
                  [showIcon]="true"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #tocalendar
                    [(ngModel)]="statements['to']"
                    placeholder="Select To Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass=" w-100"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="tocalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('odAccountStatements', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.odAccountStatements &&
                  leadDocuments.odAccountStatements[i] &&
                  leadDocuments.odAccountStatements[i].odAccountStatements &&
                  leadDocuments.odAccountStatements[i].odAccountStatements
                    .length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.odAccountStatements[i]
                      .odAccountStatements;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(file, 'odAccountStatements', i, fileIndex)
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>OD Limit &nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter OD Limit"
                  [(ngModel)]="statements['odlimit']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">OD Sanction letter</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('odSactionLetter', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteodAccountStatementsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.odAccountStatements &&
                  leadDocuments.odAccountStatements[i] &&
                  leadDocuments.odAccountStatements[i].odSactionLetter &&
                  leadDocuments.odAccountStatements[i].odSactionLetter.length >
                    0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.odAccountStatements[i]
                      .odSactionLetter;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(file, 'odSactionLetter', i, fileIndex)
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveBankStatements()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
          <!-- <button
            pButton
            pRipple
            type="button"
            class="p-button-success"
            (click)="analyzeBankStatements()"
          >
            <i class="pi pi-chart-line"></i>&nbsp;Analyze Statement
          </button> -->
        </div>
      </div>
      <div *ngIf="activeItem.name == 'financials'">
        <div>
          <div
            class="row mt-5"
            *ngFor="let kycs of financialReturns; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Annual Year&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Year"
                  [(ngModel)]="kycs['pastIncomeTax']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('pastIncomeReturns', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.financialReturns &&
                  leadDocuments.financialReturns[i] &&
                  leadDocuments.financialReturns[i].pastIncomeReturns &&
                  leadDocuments.financialReturns[i].pastIncomeReturns.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.financialReturns[i]
                      .pastIncomeReturns;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(file, 'pastIncomeReturns', i, fileIndex)
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Annual Year &nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Year"
                  [(ngModel)]="kycs['presentIncomeTax']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('presentIncomeReturns', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.financialReturns &&
                  leadDocuments.financialReturns[i] &&
                  leadDocuments.financialReturns[i].presentIncomeReturns &&
                  leadDocuments.financialReturns[i].presentIncomeReturns
                    .length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.financialReturns[i]
                      .presentIncomeReturns;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(file, 'presentIncomeReturns', i, fileIndex)
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveFinancialReturns()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'gst'">
        <div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addGstDetailsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional GST
            </button>
          </div>
          <div class="row" *ngFor="let gstData of gstDetails; let i = index">
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Operating State&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Operating State"
                  [(ngModel)]="gstData['operatingState']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Filing Period&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select Filing Period"
                  appendTo="body"
                  [showIcon]="true"
                  [(ngModel)]="gstData['filingPeriod']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #filingcalendar
                    [(ngModel)]="gstData['filingPeriod']"
                    placeholder="Select Filing Period"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass=" w-100"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="filingcalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>GSTR-3B Sale&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter GSTR-3B Sale"
                  [(ngModel)]="gstData['gst3BSale']"
                  autocomplete="off"
                  (input)="calculateTotalGSTR3BSale()"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">GSTR-3B Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('gstDetails', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteGstDetailsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.gstDetails &&
                  leadDocuments.gstDetails[i] &&
                  leadDocuments.gstDetails[i].gstDetails &&
                  leadDocuments.gstDetails[i].gstDetails.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.gstDetails[i].gstDetails;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="confirmDelete(file, 'gstDetails', i, fileIndex)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <div *ngIf="totalGSTR3Bscale !== null">
            <p>Total GSTR-3B Sale : {{ totalGSTR3Bscale }}</p>
          </div>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveGstDetails()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-info me-2"
            (click)="calculateTotalGSTR3BSale()"
          >
            &nbsp;Sum GSTR-3B Sale
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'existingLoans'">
        <div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addExistingLoansRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Existing Loan
            </button>
          </div>
          <div class="row" *ngFor="let loans of existingLoans; let i = index">
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="loans['bankName']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Loan Type&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Loan Type"
                  [(ngModel)]="loans['loanType']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>EMI Amount&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter EMI Amount"
                  [(ngModel)]="loans['emiAmount']"
                  autocomplete="off"
                  (input)="calculateTotalEMIAmount()"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>EMI Closing Date&nbsp; </label>
                </div>
                <div class="d-flex">
                  <!-- <p-calendar
                    placeholder="Select EMI Closing Date"
                    appendTo="body"
                    [showIcon]="true"
                    [(ngModel)]="loans['emiClosingDate']"
                    [showButtonBar]="true"
                  ></p-calendar> -->
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #calendar
                      [(ngModel)]="loans['emiClosingDate']"
                      placeholder="Select EMI Closing Date"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass=" w-100"
                    ></p-calendar>

                    <!-- Custom Calendar Image Icon -->
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="calendar.toggle()"
                    />
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteExistingLoansRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <div *ngIf="totalEMIAmount !== null">
            <p>Total EMI Amount: {{ totalEMIAmount }}</p>
          </div>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveExistingLoans()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-info me-2"
            (click)="calculateTotalEMIAmount()"
          >
            &nbsp;Sum EMI Amount
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'otherDetails'">
        <div class="row">
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="">Residence Proof</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('residenceProof', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div
              *ngIf="leadDocuments && leadDocuments?.residenceProof"
              class="mt-2"
            >
              <span
                *ngFor="let file of leadDocuments?.residenceProof"
                class="file-wrapper"
              >
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon me-2"
                  ></i>
                </a>
                <button
                  pButton
                  *ngIf="this.capabilities.delete"
                  type="button"
                  class="p-button-danger delete-btn p-button-sm"
                  (click)="confirmDelete(file, 'residenceProof')"
                >
                  <i class="pi pi-times"></i>
                </button>
              </span>
            </div>
          </div>
        </div>
        <div>
          <div class="my-1 text-start mt-4">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addOtherAttachmentsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Documents
            </button>
          </div>
          <h5 class="mt-4" style="font-weight: bold; color: #29415b">
            Other Documents
          </h5>
          <div
            class="row"
            *ngFor="let attachments of otherAttachments; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Document Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Document Name"
                  [(ngModel)]="attachments['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('otherAttachments', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteOtherAttachmentsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  leadDocuments &&
                  leadDocuments.otherDocuments &&
                  leadDocuments.otherDocuments[i] &&
                  leadDocuments.otherDocuments[i].otherAttachments &&
                  leadDocuments.otherDocuments[i].otherAttachments.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of leadDocuments.otherDocuments[i]
                      .otherAttachments;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(file, 'otherAttachments', i, fileIndex)
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveOtherAttachments()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
