<div>
  <ng-container *ngFor="let item of displayedItems">
    <div class="p-1 m-2" *ngIf="item.data?.length > 0">
      <div class="d-flex justify-content-between">
        <div
          class="d-flex align-items-center justify-content-center pointer-cursor"
          (click)="goBack()"
        >
          <span class="me-2 d-flex align-items-center">
            <img src="../../../assets/images/icons/left-arrow.svg" alt="Back" />
          </span>

          <span class="back-btn-text text-capitalize">
            Upload Files For
            {{ item.data[0]?.[item.displayProperty] | capitalizeFirst }}
          </span>
        </div>
      </div>
    </div>
  </ng-container>
</div>
<div class="bread-crumb m-2">
  <p-breadcrumb [model]="breadCrumbItems"></p-breadcrumb>
</div>
<div class="m-2">
  <p-tabMenu
    class="file-upload-steps"
    [model]="items"
    class="tabdesign"
    [activeItem]="activeItem"
    (activeItemChange)="onActiveItemChange($event)"
  ></p-tabMenu>
  <div class="mt-2 card leaddata" *ngIf="loanleads">
    <div *ngIf="activeItem && activeItem.name">
      <div *ngIf="activeItem.name == 'kycs'">
        <div>
          <div class="row">
            <div class="p-3">
              <h3 style="font-weight: bold; color: #29415b">KYC Details</h3>
            </div>
            <!-- <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Person Name "
                  [(ngModel)]="contactPerson"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>PAN Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter PAN Number"
                  [(ngModel)]="panNumber"
                  autocomplete="off"
                  required
                  pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Aadhaar Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Aadhaar Number"
                  [(ngModel)]="aadharNumber"
                  autocomplete="off"
                  required
                  pattern="[0-9]{12}"
                  maxlength="12"
                />
              </div>
            </div> -->
            <ng-container *ngFor="let field of [
                  { label: 'Person Name', placeholder: 'Enter Person Name', model: contactPerson, hasPattern: false, pattern: '', maxLength: null },
                  { label: 'PAN Number', placeholder: 'Enter PAN Number', model: panNumber, hasPattern: true, pattern: '[A-Z]{5}[0-9]{4}[A-Z]{1}', maxLength: 10 },
                  { label: 'Aadhaar Number', placeholder: 'Enter Aadhaar Number', model: aadharNumber, hasPattern: true, pattern: '[0-9]{12}', maxLength: 12 }
                ]">
                  <div class="col-md-4 mt-2">
                    <div class="my-1">
                      <label>{{ field.label }}&nbsp;</label>
                    </div>
                    <input
                      pInputText
                      class="rounded-lg"
                      [style.width.%]="100"
                      type="text"
                      [placeholder]="field.placeholder"
                      [(ngModel)]="field.model"
                      autocomplete="off"
                      required
                      *ngIf="!field.hasPattern"
                    />
                    <input
                      *ngIf="field.hasPattern"
                      pInputText
                      class="rounded-lg"
                      [style.width.%]="100"
                      type="text"
                      [placeholder]="field.placeholder"
                      [(ngModel)]="field.model"
                      autocomplete="off"
                      required
                      [pattern]="field.pattern"
                      [attr.maxlength]="field.maxLength"
                    />
                  </div>
                </ng-container>

            <!-- <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Pan Card&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('panCard', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].panCard &&
                  loanleads[0].panCard.length > 0
                "
                class="mt-2"
              >
                <span *ngFor="let file of loanleads[0].panCard" class="me-2">
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Aadhar Card&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('aadharCard', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].aadharCard &&
                  loanleads[0].aadharCard.length > 0
                "
                class="mt-2"
              >
                <span *ngFor="let file of loanleads[0].aadharCard" class="me-2">
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Person Photo&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('photo', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].photo &&
                  loanleads[0].photo.length > 0
                "
                class="mt-2"
              >
                <span *ngFor="let file of loanleads[0].photo" class="me-2">
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Voter Id&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('voterId', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].voterId &&
                  loanleads[0].voterId.length > 0
                "
                class="mt-2"
              >
                <span *ngFor="let file of loanleads[0].voterId" class="me-2">
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div> -->
           <ng-container *ngFor="let doc of [
                { label: 'Pan Card', key: 'panCard' },
                { label: 'Aadhar Card', key: 'aadharCard' },
                { label: 'Person Photo', key: 'photo' },
                { label: 'Voter Id', key: 'voterId' }
              ]">
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label class="text-success">{{ doc.label }}&nbsp;</label>
                    </div>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info me-2"
                      (click)="uploadFiles(doc.key, '*/*')"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>

                  <div
                    *ngIf="loanleads && loanleads[0][doc.key] && loanleads[0][doc.key].length > 0"
                    class="mt-2"
                  >
                    <span *ngFor="let file of loanleads[0][doc.key]" class="me-2">
                      <a [href]="'//' + file" target="_blank">
                        <i
                          [class]="getFileIcon(file.split('.').pop())"
                          class="file-icon"
                        ></i>
                      </a>
                    </span>
                  </div>
                </div>
              </ng-container>
           </div>
        </div>
        <div>
          <!-- <div class="row">
            <div class="p-3">
              <h3 style="font-weight: bold; color: #29415b">
                Co Applicant KYC Details
              </h3>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Co-Applicant Name "
                  [(ngModel)]="coApplicantName"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Relation&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Co-Applicant Relation "
                  [(ngModel)]="coApplicantRelation"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2"></div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success"
                    >Co-Applicant Pan Card&nbsp;
                  </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantPancard', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantPancard &&
                  loanleads[0].coApplicantPancard.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantPancard"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success"
                    >Co-Applicant Aadhar Card&nbsp;
                  </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantAadharcard', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantAadharcard &&
                  loanleads[0].coApplicantAadharcard.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantAadharcard"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Co-Applicant Photo&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantPhoto', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantPhoto &&
                  loanleads[0].coApplicantPhoto.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantPhoto"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success"
                    >Co-Applicant Voter Id&nbsp;
                  </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantVoterId', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantVoterId &&
                  loanleads[0].coApplicantVoterId.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantVoterId"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div> -->
          <div class="row">
              <div class="p-3">
                <h3 style="font-weight: bold; color: #29415b">
                  Co Applicant KYC Details
                </h3>
              </div>

              <!-- Co-Applicant Name -->
              <div class="col-md-4 mt-2">
                <div class="my-1">
                  <label>Co-Applicant Name&nbsp;</label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style.width.%]="100"
                  type="text"
                  placeholder="Enter Co-Applicant Name"
                  [(ngModel)]="coApplicantName"
                  autocomplete="off"
                  required
                />
              </div>

              <!-- Co-Applicant Relation -->
              <div class="col-md-4 mt-2">
                <div class="my-1">
                  <label>Co-Applicant Relation&nbsp;</label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style.width.%]="100"
                  type="text"
                  placeholder="Enter Co-Applicant Relation"
                  [(ngModel)]="coApplicantRelation"
                  autocomplete="off"
                  required
                />
              </div>

              <div class="col-md-4 mt-2"></div>

              <!-- Upload Blocks -->
              <ng-container *ngFor="let doc of [
                { label: 'Co-Applicant Pan Card', key: 'coApplicantPancard' },
                { label: 'Co-Applicant Aadhar Card', key: 'coApplicantAadharcard' },
                { label: 'Co-Applicant Photo', key: 'coApplicantPhoto' },
                { label: 'Co-Applicant Voter Id', key: 'coApplicantVoterId' }
              ]">
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label class="text-success">{{ doc.label }}&nbsp;</label>
                    </div>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info me-2"
                      (click)="uploadFiles(doc.key, '*/*')"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>

                  <div
                    *ngIf="loanleads && loanleads[0][doc.key]?.length > 0"
                    class="mt-2"
                  >
                    <span *ngFor="let file of loanleads[0][doc.key]" class="me-2">
                      <a [href]="'//' + file" target="_blank">
                        <i
                          [class]="getFileIcon(file.split('.').pop())"
                          class="file-icon"
                        ></i>
                      </a>
                    </span>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveKycsSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <!-- <div *ngIf="activeItem.name == 'cibil'">
        <div>
          <div class="row">
            <div class="p-3">
              <h3 style="font-weight: bold; color: #29415b">Cibil Details</h3>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Person Name "
                  [(ngModel)]="contactPerson"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>PAN Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter PAN Number"
                  [(ngModel)]="panNumber"
                  autocomplete="off"
                  required
                  pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Aadhaar Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Aadhaar Number"
                  [(ngModel)]="aadharNumber"
                  autocomplete="off"
                  required
                  pattern="[0-9]{12}"
                  maxlength="12"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Cibil Score&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Cibil Score"
                  [(ngModel)]="cibilScore"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Cibil Report&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('cibilReport', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].cibilReport &&
                  loanleads[0].cibilReport.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].cibilReport"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveCibilSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div> -->
      <div *ngIf="activeItem.name == 'cibil'">
  <div>
    <div class="row">
      <div class="p-3">
        <h3 style="font-weight: bold; color: #29415b">Cibil Details</h3>
      </div>

      <ng-container *ngFor="let field of [
        { label: 'Person Name', placeholder: 'Enter Person Name ', model: 'contactPerson', required: true },
        { label: 'PAN Number', placeholder: 'Enter PAN Number', model: 'panNumber', required: true, pattern: '[A-Z]{5}[0-9]{4}[A-Z]{1}', maxlength: 10 },
        { label: 'Aadhaar Number', placeholder: 'Enter Aadhaar Number', model: 'aadharNumber', required: true, pattern: '[0-9]{12}', maxlength: 12 },
        { label: 'Cibil Score', placeholder: 'Enter Cibil Score', model: 'cibilScore', required: false }
      ]">
        <div class="col-md-4 mt-2">
          <div>
            <div class="my-1">
              <label>{{ field.label }}&nbsp;</label>
            </div>
            <input
              pInputText
              class="rounded-lg"
              [style.width.%]="100"
              type="text"
              [placeholder]="field.placeholder"
              [(ngModel)]="this[field.model]"
              autocomplete="off"
              [required]="field.required"
              [pattern]="field.pattern || ''"
              [attr.maxlength]="field.maxlength || null"
            />
          </div>
        </div>
      </ng-container>

      <div class="col-md-3 mt-2">
        <div>
          <div class="my-1">
            <label class="text-success">Cibil Report&nbsp;</label>
          </div>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-info me-2"
            (click)="uploadFiles('cibilReport', '*/*')"
          >
            <i class="pi pi-upload"></i>&nbsp;Upload Files
          </button>
        </div>
        <div
          *ngIf="
            loanleads &&
            loanleads[0].cibilReport &&
            loanleads[0].cibilReport.length > 0
          "
          class="mt-2"
        >
          <span *ngFor="let file of loanleads[0].cibilReport" class="me-2">
            <a [href]="'//' + file" target="_blank">
              <i
                [class]="getFileIcon(file.split('.').pop())"
                class="file-icon"
              ></i>
            </a>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div class="my-3 text-center">
    <button
      pButton
      pRipple
      type="button"
      class="p-button-primary me-2"
      (click)="saveCibilSection()"
    >
      <i class="pi pi-save"></i>&nbsp;Save
    </button>
  </div>
</div>

      <ng-container
        *ngIf="
          loanleads?.length &&
          ((loanleads[0].loanType === 'personalLoan' &&
            loanleads[0].employmentStatus === 'employed') ||
            (loanleads[0].loanType === 'homeLoan' &&
              loanleads[0].employmentStatus === 'employed') ||
            (loanleads[0].loanType === 'lap' &&
              loanleads[0].employmentStatus === 'employed'))
        "
      >
        <!-- <div *ngIf="activeItem.name == 'companydetails'">
          <div>
            <div class="row">
              <div class="p-3">
                <h3 style="font-weight: bold; color: #29415b">
                  Company Details
                </h3>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Company Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Person Name "
                    [(ngModel)]="companyName"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Company Id&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('companyId', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].companyId &&
                    loanleads[0].companyId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].companyId"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div>
            <div class="">
              <h3 style="font-weight: bold; color: #29415b">Payslips</h3>
            </div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPayslipsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Additional Payslip
              </button>
            </div>
            <div class="row" *ngFor="let statements of paySlips; let i = index">
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Date&nbsp; </label>
                  </div>
                  
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #statementcalendar
                      [(ngModel)]="statements['date']"
                      placeholder="Select  Date"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>

                    
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="statementcalendar.toggle()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Salary&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Salary"
                    [(ngModel)]="statements['salary']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">payslip</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('paySlips', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-danger ml-1"
                      *ngIf="i > 0"
                      (click)="deletePayslipsRow(i)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].paySlips &&
                    loanleads[0].paySlips[i] &&
                    loanleads[0].paySlips[i].paySlips &&
                    loanleads[0].paySlips[i].paySlips.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].paySlips[i].paySlips"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveCompanyDetailsSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div> -->
                  <div *ngIf="activeItem.name === 'companydetails'">
            <div class="row">
              <div class="p-3">
                <h3 class="fw-bold" style="color: #29415b">Company Details</h3>
              </div>

              <!-- Company Name -->
              <div class="col-md-4 mt-2">
                <label class="my-1">Company Name&nbsp;</label>
                <input
                  pInputText
                  class="rounded-lg w-100"
                  type="text"
                  placeholder="Enter Person Name"
                  [(ngModel)]="companyName"
                  autocomplete="off"
                  required
                />
              </div>

              <!-- Company ID Upload -->
              <div class="col-md-3 mt-2">
                <label class="text-success my-1">Company Id&nbsp;</label>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('companyId', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>

                <div *ngIf="loanleads?.[0]?.companyId?.length" class="mt-2">
                  <ng-container *ngFor="let file of loanleads[0].companyId">
                    <a [href]="'//' + file" target="_blank" class="me-2">
                      <i [class]="getFileIcon(file.split('.').pop())" class="file-icon"></i>
                    </a>
                  </ng-container>
                </div>
              </div>
            </div>

            <!-- Payslips Section -->
            <div>
              <h3 class="fw-bold mt-4" style="color: #29415b">Payslips</h3>

              <div class="my-1 text-end">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-primary me-2"
                  (click)="addPayslipsRow()"
                >
                  <i class="pi pi-plus"></i>&nbsp;Add Additional Payslip
                </button>
              </div>

              <div class="row" *ngFor="let slip of paySlips; let i = index">
                <!-- Date -->
                <div class="col-md-4 mt-2">
                  <label class="my-1">Date&nbsp;</label>
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #calendar
                      [(ngModel)]="slip.date"
                      placeholder="Select Date"
                      [showIcon]="false"
                      [showButtonBar]="true"
                      appendTo="body"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="calendar.toggle()"
                    />
                  </div>
                </div>

                <!-- Salary -->
                <div class="col-md-4 mt-2">
                  <label class="my-1">Salary&nbsp;</label>
                  <input
                    pInputText
                    class="rounded-lg w-100"
                    type="text"
                    placeholder="Enter Salary"
                    [(ngModel)]="slip.salary"
                    autocomplete="off"
                  />
                </div>

                <!-- Payslip Upload -->
                <div class="col-md-3 mt-2">
                  <label class="text-success my-1">Payslip</label>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('paySlips', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                    <button
                      *ngIf="i > 0"
                      pButton
                      pRipple
                      type="button"
                      class="p-button-danger ml-1"
                      (click)="deletePayslipsRow(i)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </div>

                  <div
                    *ngIf="loanleads?.[0]?.paySlips?.[i]?.paySlips?.length"
                    class="mt-2"
                  >
                    <ng-container *ngFor="let file of loanleads[0].paySlips[i].paySlips">
                      <a [href]="'//' + file" target="_blank" class="me-2">
                        <i [class]="getFileIcon(file.split('.').pop())" class="file-icon"></i>
                      </a>
                    </ng-container>
                  </div>
                </div>
              </div>
            </div>

            <!-- Save Button -->
            <div class="my-3 text-center">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="saveCompanyDetailsSection()"
              >
                <i class="pi pi-save"></i>&nbsp;Save
              </button>
            </div>
          </div>
        </ng-container>
      <ng-container
        *ngIf="
          loanleads?.length &&
          ((loanleads[0].loanType === 'homeLoan' &&
            loanleads[0].employmentStatus === 'self-employed') ||
            (loanleads[0].loanType === 'lap' &&
              loanleads[0].employmentStatus === 'self-employed'))
        "
      >
        <div *ngIf="activeItem.name == 'financials'">
          <div>
            <div
              class="row mt-5"
              *ngFor="let kycs of financialReturns; let i = index"
            >
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Annual Year&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Year"
                    [(ngModel)]="kycs['pastIncomeTax']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('pastIncomeReturns', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].financialReturns &&
                    loanleads[0].financialReturns[i] &&
                    loanleads[0].financialReturns[i].pastIncomeReturns &&
                    loanleads[0].financialReturns[i].pastIncomeReturns.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].financialReturns[i]
                        .pastIncomeReturns
                    "
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Annual Year &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Year"
                    [(ngModel)]="kycs['presentIncomeTax']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('presentIncomeReturns', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].financialReturns &&
                    loanleads[0].financialReturns[i] &&
                    loanleads[0].financialReturns[i].presentIncomeReturns &&
                    loanleads[0].financialReturns[i].presentIncomeReturns
                      .length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].financialReturns[i]
                        .presentIncomeReturns
                    "
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveFinancialReturns()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'gst'">
          <div class="row">
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Business Proof </label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('gstCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="loanleads && loanleads[0]?.gstCertificate"
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0]?.gstCertificate"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addGstDetailsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Additional GST
              </button>
            </div>
            <div class="row" *ngFor="let gstData of gstDetails; let i = index">
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Operating State&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Operating State"
                    [(ngModel)]="gstData['operatingState']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Filing Period&nbsp; </label>
                  </div>
                  <!-- <p-calendar
                    placeholder="Select Filing Period"
                    appendTo="body"
                    [showIcon]="true"
                    [(ngModel)]="gstData['filingPeriod']"
                    [showButtonBar]="true"
                  ></p-calendar> -->
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #filingPeriodcalendar
                      [(ngModel)]="gstData['filingPeriod']"
                      placeholder="Select Filing Period"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>
                    <!-- Custom Calendar Image Icon -->
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="filingPeriodcalendar.toggle()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>GSTR-3B Sale&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter GSTR-3B Sale"
                    [(ngModel)]="gstData['gst3BSale']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">GSTR-3B Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('gstDetails', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-danger ml-1"
                      *ngIf="i > 0"
                      (click)="deleteGstDetailsRow(i)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].gstDetails &&
                    loanleads[0].gstDetails[i] &&
                    loanleads[0].gstDetails[i].gstDetails &&
                    loanleads[0].gstDetails[i].gstDetails.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].gstDetails[i].gstDetails"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveGstDetails()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </ng-container>
      <div *ngIf="activeItem.name == 'bankStatements'">
        <div>
          <div class="">
            <h3 style="font-weight: bold; color: #29415b">Banking Details</h3>
          </div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addBankStatementsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Banking Details
            </button>
          </div>
          <div
            class="row"
            *ngFor="let statements of bankStatements; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="statements['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Account Type&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Account Type"
                  [(ngModel)]="statements['accountType']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>From&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select Date"
                  appendTo="body"
                  [style]="{ width: '100%' }"
                  [showIcon]="true"
                  [(ngModel)]="statements['from']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #statementfromcalendar
                    [(ngModel)]="statements['from']"
                    placeholder="Select From Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass="w-100 custom-calendar-input"
                  ></p-calendar>
                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="statementfromcalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>To&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select Date"
                  appendTo="body"
                  [style]="{ width: '100%' }"
                  [showIcon]="true"
                  [(ngModel)]="statements['to']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #statementtocalendar
                    [(ngModel)]="statements['to']"
                    placeholder="Select To Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass="w-100 custom-calendar-input"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="statementtocalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('bankStatements', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteBankStatementsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].bankStatements &&
                  loanleads[0].bankStatements[i] &&
                  loanleads[0].bankStatements[i].bankStatements &&
                  loanleads[0].bankStatements[i].bankStatements.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of loanleads[0].bankStatements[i].bankStatements
                  "
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveBankStatementsSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'existingLoans'">
        <div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addExistingLoansRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Existing Loan
            </button>
          </div>
          <div class="row" *ngFor="let loans of existingLoans; let i = index">
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="loans['bankName']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Loan Type&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Loan Type"
                  [(ngModel)]="loans['loanType']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>EMI Amount&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter EMI Amount"
                  [(ngModel)]="loans['emiAmount']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>EMI Closing Date&nbsp; </label>
                </div>
                <div class="d-flex">
                  <!-- <p-calendar
                    placeholder="Select EMI Closing Date"
                    appendTo="body"
                    [showIcon]="true"
                    [showButtonBar]="true"
                    [(ngModel)]="loans['emiClosingDate']"
                  ></p-calendar> -->
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #calendar
                      [(ngModel)]="loans['emiClosingDate']"
                      placeholder="Select EMI Closing Date"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>

                    <!-- Custom Calendar Image Icon -->
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="calendar.toggle()"
                    />
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteExistingLoansRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveExistingLoans()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'otherDetails'">
        <div class="row">
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="text-success">Residence Proof</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('residenceProof', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div *ngIf="loanleads && loanleads[0]?.residenceProof" class="mt-2">
              <span
                *ngFor="let file of loanleads[0]?.residenceProof"
                class="me-2"
              >
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon"
                  ></i>
                </a>
              </span>
            </div>
          </div>
        </div>
        <div>
          <div class="my-1 text-start mt-4">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addOtherAttachmentsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Documents
            </button>
          </div>
          <h3 style="font-weight: bold; color: #29415b">Other Documents</h3>
          <div
            class="row"
            *ngFor="let attachments of otherDocuments; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Document Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Document Name"
                  [(ngModel)]="attachments['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('otherDocuments', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteOtherAttachmentsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].otherDocuments &&
                  loanleads[0].otherDocuments[i] &&
                  loanleads[0].otherDocuments[i].otherDocuments &&
                  loanleads[0].otherDocuments[i].otherDocuments.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of loanleads[0].otherDocuments[i].otherDocuments
                  "
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveOtherAttachments()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'saledetails'">
        <div class="row">
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="text-success">Sale Deed</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('saleDeed', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div *ngIf="loanleads && loanleads[0]?.saleDeed" class="mt-2">
              <span *ngFor="let file of loanleads[0]?.saleDeed" class="me-2">
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon"
                  ></i>
                </a>
              </span>
            </div>
          </div>
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="text-success">Sale Agreement</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('saleAgreement', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div *ngIf="loanleads && loanleads[0]?.saleAgreement" class="mt-2">
              <span
                *ngFor="let file of loanleads[0]?.saleAgreement"
                class="me-2"
              >
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon"
                  ></i>
                </a>
              </span>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveSaleDetailsSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
