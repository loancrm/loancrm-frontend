<div>
  <ng-container *ngFor="let item of displayedItems">
    <div class="p-1 m-2" *ngIf="item.data?.length > 0">
      <div class="d-flex justify-content-between">
        <div
          class="d-flex align-items-center justify-content-center pointer-cursor"
          (click)="goBack()"
        >
          <span class="me-2 d-flex align-items-center">
            <img src="../../../assets/images/icons/Vector.png" alt="Back" />
          </span>

          <span class="back-btn-text text-capitalize">
            Upload Files For
            {{ item.data[0]?.[item.displayProperty] | capitalizeFirst }}
          </span>
        </div>
      </div>
    </div>
  </ng-container>
</div>
<div class="bread-crumb m-2">
  <p-breadcrumb [model]="breadCrumbItems"></p-breadcrumb>
</div>
<div class="m-2">
  <p-tabMenu
    class="file-upload-steps"
    [model]="items"
    class="tabdesign"
    [activeItem]="activeItem"
    (activeItemChange)="onActiveItemChange($event)"
  ></p-tabMenu>
  <div class="mt-2 card leaddata" *ngIf="loanleads">
    <div *ngIf="activeItem && activeItem.name">
      <div
        *ngIf="
          loanleads[0]?.businessEntity === 'proprietorship' ||
          loanleads[0]?.loanType === 'personalLoan' ||
          (loanleads[0]?.loanType === 'homeLoan' &&
            loanleads[0]?.employmentStatus === 'employed') ||
          (loanleads[0]?.loanType === 'lap' &&
            loanleads[0]?.employmentStatus === 'employed')
        "
      >
        <div *ngIf="activeItem.name == 'kycs'">
          <div>
            <div class="row">
              <div class="p-3">
                <h5 style="font-weight: bold; color: #000">KYC Details</h5>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Applicant Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Person Name "
                    [(ngModel)]="contactPerson"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>PAN Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="panNumber"
                    autocomplete="off"
                    required
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Aadhaar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhaar Number"
                    [(ngModel)]="aadharNumber"
                    autocomplete="off"
                    required
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Pan Card&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('panCard', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].panCard &&
                    loanleads[0].panCard.length > 0
                  "
                  class="mt-2"
                >
                  <span *ngFor="let file of loanleads[0].panCard" class="me-2">
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Aadhar Card&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('aadharCard', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].aadharCard &&
                    loanleads[0].aadharCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].aadharCard"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Person Photo&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('photo', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].photo &&
                    loanleads[0].photo.length > 0
                  "
                  class="mt-2"
                >
                  <span *ngFor="let file of loanleads[0].photo" class="me-2">
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Voter Id&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('voterId', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].voterId &&
                    loanleads[0].voterId.length > 0
                  "
                  class="mt-2"
                >
                  <span *ngFor="let file of loanleads[0].voterId" class="me-2">
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div>
            <!-- <div class="row">
            <div class="p-3">
              <h3 style="font-weight: bold; color: #000">
                Co Applicant KYC Details
              </h3>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Co-Applicant Name "
                  [(ngModel)]="coApplicantName"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Relation&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Co-Applicant Relation "
                  [(ngModel)]="coApplicantRelation"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2"></div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success"
                    >Co-Applicant Pan Card&nbsp;
                  </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantPancard', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantPancard &&
                  loanleads[0].coApplicantPancard.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantPancard"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success"
                    >Co-Applicant Aadhar Card&nbsp;
                  </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantAadharcard', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantAadharcard &&
                  loanleads[0].coApplicantAadharcard.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantAadharcard"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Co-Applicant Photo&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantPhoto', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantPhoto &&
                  loanleads[0].coApplicantPhoto.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantPhoto"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success"
                    >Co-Applicant Voter Id&nbsp;
                  </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('coApplicantVoterId', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].coApplicantVoterId &&
                  loanleads[0].coApplicantVoterId.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].coApplicantVoterId"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div> -->
            <div class="row">
              <div class="p-3">
                <h5 style="font-weight: bold; color: #000">
                  Co Applicant KYC Details
                </h5>
              </div>

              <!-- Co-Applicant Name -->
              <div class="col-md-4 mt-2">
                <div class="my-1">
                  <label>Co-Applicant Name&nbsp;</label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style.width.%]="100"
                  type="text"
                  placeholder="Enter Co-Applicant Name"
                  [(ngModel)]="coApplicantName"
                  autocomplete="off"
                  required
                />
              </div>

              <!-- Co-Applicant Relation -->
              <div class="col-md-4 mt-2">
                <div class="my-1">
                  <label>Co-Applicant Relation&nbsp;</label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style.width.%]="100"
                  type="text"
                  placeholder="Enter Co-Applicant Relation"
                  [(ngModel)]="coApplicantRelation"
                  autocomplete="off"
                  required
                />
              </div>

              <div class="col-md-4 mt-2"></div>

              <!-- Upload Blocks -->
              <ng-container
                *ngFor="
                  let doc of [
                    {
                      label: 'Co-Applicant Pan Card',
                      key: 'coApplicantPancard'
                    },
                    {
                      label: 'Co-Applicant Aadhar Card',
                      key: 'coApplicantAadharcard'
                    },
                    { label: 'Co-Applicant Photo', key: 'coApplicantPhoto' },
                    {
                      label: 'Co-Applicant Voter Id',
                      key: 'coApplicantVoterId'
                    }
                  ]
                "
              >
                <div class="col-md-3 mt-2">
                  <div>
                    <div class="my-1">
                      <label class="text-success">{{ doc.label }}&nbsp;</label>
                    </div>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info me-2"
                      (click)="uploadFiles(doc.key, '*/*')"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>

                  <div
                    *ngIf="loanleads && loanleads[0][doc.key]?.length > 0"
                    class="mt-2"
                  >
                    <span
                      *ngFor="let file of loanleads[0][doc.key]"
                      class="me-2"
                    >
                      <a [href]="'//' + file" target="_blank">
                        <i
                          [class]="getFileIcon(file.split('.').pop())"
                          class="file-icon"
                        ></i>
                      </a>
                    </span>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveKycsSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'cibil'">
          <div>
            <div class="row">
              <div class="">
                <h5 style="font-weight: bold; color: #000">
                  Proprietor Details
                </h5>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Applicant Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Applicant Name "
                    [(ngModel)]="contactPerson"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>PAN Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="panNumber"
                    autocomplete="off"
                    required
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Aadhaar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhaar Number"
                    [(ngModel)]="aadharNumber"
                    autocomplete="off"
                    required
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>

              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label
                      >Cibil Score&nbsp; &nbsp;<span
                        class="fw-bold pointer-cursor text-primary"
                        (click)="goToCibilScoreCheck()"
                        >Check</span
                      >
                    </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Cibil Score"
                    [(ngModel)]="cibilScore"
                    autocomplete="off"
                    required
                  />
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Cibil Report&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('cibilReport', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].cibilReport &&
                    loanleads[0].cibilReport.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].cibilReport"
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="p-button-danger delete-btn p-button-sm"
                      (click)="confirmDelete(file, 'cibilReport')"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div
            class="row mb-5 mt-4"
            *ngFor="let cibil of coApplicantCibil; let i = index"
          >
            <div class="d-flex">
              <h5 style="font-weight: bold; color: #000">
                Co-Applicant Details
              </h5>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Co-Applicant Name"
                  [(ngModel)]="cibil['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant PAN Number &nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter PAN Number"
                  [(ngModel)]="cibil['panNumber']"
                  autocomplete="off"
                  pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Aadhar Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Aadhar Number"
                  [(ngModel)]="cibil['aadharNumber']"
                  autocomplete="off"
                  pattern="[0-9]{12}"
                  maxlength="12"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Co-Applicant Mobile Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Mobile Number"
                  [(ngModel)]="cibil['mobileNumber']"
                  autocomplete="off"
                  pattern="[0-9]{10}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label
                    >Cibil Score&nbsp; &nbsp;<span
                      class="fw-bold pointer-cursor text-primary"
                      (click)="goToCibilScoreCheck()"
                      >Check</span
                    >
                  </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Cibil Score"
                  [(ngModel)]="cibil['cibilScore']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label class="">Cibil Report </label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('coApplicantCibilReport', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  loanleads[0] &&
                  loanleads[0].coApplicantCibil &&
                  loanleads[0].coApplicantCibil[i] &&
                  loanleads[0].coApplicantCibil[i].coApplicantCibilReport &&
                  loanleads[0].coApplicantCibil[i].coApplicantCibilReport
                    .length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of loanleads[0].coApplicantCibil[i]
                      .coApplicantCibilReport;
                    let fileIndex = index
                  "
                  class="file-wrapper"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon me-2"
                    ></i>
                  </a>
                  <button
                    pButton
                    *ngIf="this.capabilities.delete"
                    type="button"
                    class="delete-btn p-button-danger p-button-sm"
                    (click)="
                      confirmDelete(
                        file,
                        'coApplicantCibilReport',
                        i,
                        fileIndex
                      )
                    "
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveCibilSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </div>
      <div
        *ngIf="
          loanleads[0]?.businessEntity == 'partnership' ||
          loanleads[0]?.businessEntity == 'llp'
        "
      >
        <div *ngIf="activeItem.name == 'cibil'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPartnersCibilRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Partner
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of partnerCibil; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #000">
                  Partner-{{ i + 1 }} Cibil
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deletePartnersCibilRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label
                      >Cibil Score&nbsp; &nbsp;<span
                        class="fw-bold pointer-cursor text-primary"
                        (click)="goToCibilScoreCheck()"
                        >Check</span
                      >
                    </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['cibilScore']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Cibil Report </label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerCibilReport', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerCibil &&
                    loanleads[0].partnerCibil[i] &&
                    loanleads[0].partnerCibil[i].partnerCibilReport &&
                    loanleads[0].partnerCibil[i].partnerCibilReport.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerCibil[i]
                        .partnerCibilReport;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnerCibilReport', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="savePartnersCibil()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'kycs'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPartnersKycsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Partner
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of partnerKycs; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #000">
                  Partner-{{ i + 1 }} KYC
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deletePartnersKycsRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Partner-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>partner-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">PanCard</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerpanCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerKycs &&
                    loanleads[0].partnerKycs[i] &&
                    loanleads[0].partnerKycs[i].partnerpanCard &&
                    loanleads[0].partnerKycs[i].partnerpanCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerKycs[i].partnerpanCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnerpanCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Aadhar Card</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partneraadharCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerKycs &&
                    loanleads[0].partnerKycs[i] &&
                    loanleads[0].partnerKycs[i].partneraadharCard &&
                    loanleads[0].partnerKycs[i].partneraadharCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerKycs[i].partneraadharCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partneraadharCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Partner Photo</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerPhoto', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerKycs &&
                    loanleads[0].partnerKycs[i] &&
                    loanleads[0].partnerKycs[i].partnerPhoto &&
                    loanleads[0].partnerKycs[i].partnerPhoto.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerKycs[i].partnerPhoto;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnerPhoto', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Voter Id</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnervoterId', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerKycs &&
                    loanleads[0].partnerKycs[i] &&
                    loanleads[0].partnerKycs[i].partnervoterId &&
                    loanleads[0].partnerKycs[i].partnervoterId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerKycs[i].partnervoterId;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'partnervoterId', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['partnerdocName1']"
                    autocomplete="off"
                  />
                </div>
              </div> -->
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerotherDocuments1', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerKycs &&
                    loanleads[0].partnerKycs[i] &&
                    loanleads[0].partnerKycs[i].partnerotherDocuments1 &&
                    loanleads[0].partnerKycs[i].partnerotherDocuments1.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerKycs[i]
                        .partnerotherDocuments1;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'partnerotherDocuments1',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div> -->
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['partnerdocName2']"
                    autocomplete="off"
                  />
                </div>
              </div> -->
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('partnerotherDocuments2', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].partnerKycs &&
                    loanleads[0].partnerKycs[i] &&
                    loanleads[0].partnerKycs[i].partnerotherDocuments2 &&
                    loanleads[0].partnerKycs[i].partnerotherDocuments2.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].partnerKycs[i]
                        .partnerotherDocuments2;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'partnerotherDocuments2',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div> -->
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="savePartnersKycs()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </div>
      <div *ngIf="loanleads[0]?.businessEntity == 'privateLimited'">
        <div *ngIf="activeItem.name == 'cibil'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addDirectorsCibilRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Director
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of directorCibil; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #000">
                  Director-{{ i + 1 }} Cibil
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deleteDirectorsCibilRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label
                      >Cibil Score&nbsp; &nbsp;<span
                        class="fw-bold pointer-cursor text-primary"
                        (click)="goToCibilScoreCheck()"
                        >Check</span
                      >
                    </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['cibilScore']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Cibil Report </label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorCibilReport', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].directorCibil &&
                    loanleads[0].directorCibil[i] &&
                    loanleads[0].directorCibil[i].directorCibilReport &&
                    loanleads[0].directorCibil[i].directorCibilReport.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorCibil[i]
                        .directorCibilReport;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorCibilReport', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveDirectorsCibil()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'kycs'">
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addDirectorsKycsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Director
              </button>
            </div>
            <div
              class="row mb-5"
              *ngFor="let kycs of directorsKycs; let i = index"
            >
              <div class="d-flex">
                <h5 style="font-weight: bold; color: #000">
                  Director-{{ i + 1 }} KYC
                </h5>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-danger ml-1"
                  *ngIf="i > 0"
                  (click)="deleteDirectorsKycsRow(i)"
                >
                  <i class="pi pi-times"></i>
                </button>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Name"
                    [(ngModel)]="kycs['name']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} PAN Number &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter PAN Number"
                    [(ngModel)]="kycs['panNumber']"
                    autocomplete="off"
                    pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Aadhar Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Aadhar Number"
                    [(ngModel)]="kycs['aadharNumber']"
                    autocomplete="off"
                    pattern="[0-9]{12}"
                    maxlength="12"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Director-{{ i + 1 }} Mobile Number&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Mobile Number"
                    [(ngModel)]="kycs['mobileNumber']"
                    autocomplete="off"
                    pattern="[0-9]{10}"
                    maxlength="10"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">PanCard</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorpanCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].directorsKycs &&
                    loanleads[0].directorsKycs[i] &&
                    loanleads[0].directorsKycs[i].directorpanCard &&
                    loanleads[0].directorsKycs[i].directorpanCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorsKycs[i].directorpanCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorpanCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Aadhar Card</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directoraadharCard', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].directorsKycs &&
                    loanleads[0].directorsKycs[i] &&
                    loanleads[0].directorsKycs[i].directoraadharCard &&
                    loanleads[0].directorsKycs[i].directoraadharCard.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorsKycs[i]
                        .directoraadharCard;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directoraadharCard', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Director Photo</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorPhoto', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].directorsKycs &&
                    loanleads[0].directorsKycs[i] &&
                    loanleads[0].directorsKycs[i].directorPhoto &&
                    loanleads[0].directorsKycs[i].directorPhoto.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorsKycs[i].directorPhoto;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorPhoto', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class=""> Voter Id</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorvoterId', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].directorsKycs &&
                    loanleads[0].directorsKycs[i] &&
                    loanleads[0].directorsKycs[i].directorvoterId &&
                    loanleads[0].directorsKycs[i].directorvoterId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorsKycs[i].directorvoterId;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(file, 'directorvoterId', i, fileIndex)
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div>
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['directordocName1']"
                    autocomplete="off"
                  />
                </div>
              </div>-->
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorotherDocuments1', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].directorsKycs &&
                    loanleads[0].directorsKycs[i] &&
                    loanleads[0].directorsKycs[i].directorotherDocuments1 &&
                    loanleads[0].directorsKycs[i].directorotherDocuments1
                      .length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorsKycs[i]
                        .directorotherDocuments1;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'directorotherDocuments1',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div> -->
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Other Documents&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Document  Name"
                    [(ngModel)]="kycs['directordocName2']"
                    autocomplete="off"
                  />
                </div>
              </div> -->
              <!-- <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('directorotherDocuments2', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads[0] &&
                    loanleads[0].directorsKycs &&
                    loanleads[0].directorsKycs[i] &&
                    loanleads[0].directorsKycs[i].directorotherDocuments2 &&
                    loanleads[0].directorsKycs[i].directorotherDocuments2
                      .length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].directorsKycs[i]
                        .directorotherDocuments2;
                      let fileIndex = index
                    "
                    class="file-wrapper"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon me-2"
                      ></i>
                    </a>
                    <button
                      pButton
                      *ngIf="this.capabilities.delete"
                      type="button"
                      class="delete-btn p-button-danger p-button-sm"
                      (click)="
                        confirmDelete(
                          file,
                          'directorotherDocuments2',
                          i,
                          fileIndex
                        )
                      "
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </span>
                </div>
              </div> -->
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveDirectorsKycs()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </div>

      <!-- <div *ngIf="activeItem.name == 'cibil'">
        <div>
          <div class="row">
            <div class="p-3">
              <h3 style="font-weight: bold; color: #000">Cibil Details</h3>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Applicant Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Person Name "
                  [(ngModel)]="contactPerson"
                  autocomplete="off"
                  required="true"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>PAN Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter PAN Number"
                  [(ngModel)]="panNumber"
                  autocomplete="off"
                  required
                  pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                  maxlength="10"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Aadhaar Number&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Aadhaar Number"
                  [(ngModel)]="aadharNumber"
                  autocomplete="off"
                  required
                  pattern="[0-9]{12}"
                  maxlength="12"
                />
              </div>
            </div>
            <div class="col-md-4 mt-2">
              <div>
                <div class="my-1">
                  <label>Cibil Score&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Cibil Score"
                  [(ngModel)]="cibilScore"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Cibil Report&nbsp; </label>
                </div>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('cibilReport', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].cibilReport &&
                  loanleads[0].cibilReport.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0].cibilReport"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveCibilSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div> -->

      <ng-container
        *ngIf="
          loanleads?.length &&
          ((loanleads[0].loanType === 'personalLoan' &&
            loanleads[0].employmentStatus === 'employed') ||
            (loanleads[0].loanType === 'homeLoan' &&
              loanleads[0].employmentStatus === 'employed') ||
            (loanleads[0].loanType === 'lap' &&
              loanleads[0].employmentStatus === 'employed'))
        "
      >
        <!-- <div *ngIf="activeItem.name == 'companydetails'">
          <div>
            <div class="row">
              <div class="p-3">
                <h3 style="font-weight: bold; color: #000">
                  Company Details
                </h3>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Company Name&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Person Name "
                    [(ngModel)]="companyName"
                    autocomplete="off"
                    required="true"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Company Id&nbsp; </label>
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info me-2"
                    (click)="uploadFiles('companyId', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].companyId &&
                    loanleads[0].companyId.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].companyId"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div>
            <div class="">
              <h3 style="font-weight: bold; color: #000">Payslips</h3>
            </div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPayslipsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Additional Payslip
              </button>
            </div>
            <div class="row" *ngFor="let statements of paySlips; let i = index">
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Date&nbsp; </label>
                  </div>

                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #statementcalendar
                      [(ngModel)]="statements['date']"
                      placeholder="Select  Date"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>


                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="statementcalendar.toggle()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <div class="my-1">
                    <label>Salary&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Salary"
                    [(ngModel)]="statements['salary']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">payslip</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('paySlips', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-danger ml-1"
                      *ngIf="i > 0"
                      (click)="deletePayslipsRow(i)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].paySlips &&
                    loanleads[0].paySlips[i] &&
                    loanleads[0].paySlips[i].paySlips &&
                    loanleads[0].paySlips[i].paySlips.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].paySlips[i].paySlips"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveCompanyDetailsSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div> -->
        <div *ngIf="activeItem.name === 'companydetails'">
          <div class="row">
            <!-- Company Name -->
            <div class="col-md-4 mt-2">
              <label class="my-1">Company Name&nbsp;</label>
              <input
                pInputText
                class="rounded-lg w-100"
                type="text"
                placeholder="Enter Person Name"
                [(ngModel)]="companyName"
                autocomplete="off"
                required
              />
            </div>

            <!-- Company ID Upload -->
            <div class="col-md-3 mt-2">
              <div class="my-1">
                <label class="text-success my-1">Company Id&nbsp;</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info me-2"
                  (click)="uploadFiles('companyId', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>

              <div *ngIf="loanleads?.[0]?.companyId?.length" class="mt-2">
                <ng-container *ngFor="let file of loanleads[0].companyId">
                  <a [href]="'//' + file" target="_blank" class="me-2">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </ng-container>
              </div>
            </div>
          </div>

          <!-- Payslips Section -->
          <div>
            <h5 class="fw-bold mt-4" style="color: #000">Payslips</h5>

            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addPayslipsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Additional Payslip
              </button>
            </div>

            <div class="row" *ngFor="let slip of paySlips; let i = index">
              <!-- Date -->
              <div class="col-md-4 mt-2">
                <label class="my-1">Date&nbsp;</label>
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #calendar
                    [(ngModel)]="slip.date"
                    placeholder="Select Date"
                    [showIcon]="false"
                    [showButtonBar]="true"
                    appendTo="body"
                    styleClass="w-100 custom-calendar-input"
                  ></p-calendar>
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="calendar.toggle()"
                  />
                </div>
              </div>

              <!-- Salary -->
              <div class="col-md-4 mt-2">
                <label class="my-1">Salary&nbsp;</label>
                <input
                  pInputText
                  class="rounded-lg w-100"
                  type="text"
                  placeholder="Enter Salary"
                  [(ngModel)]="slip.salary"
                  autocomplete="off"
                />
              </div>

              <!-- Payslip Upload -->
              <div class="col-md-3 mt-2">
                <label class="text-success my-1">Payslip</label>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('paySlips', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    *ngIf="i > 0"
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    (click)="deletePayslipsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>

                <div
                  *ngIf="loanleads?.[0]?.paySlips?.[i]?.paySlips?.length"
                  class="mt-2"
                >
                  <ng-container
                    *ngFor="let file of loanleads[0].paySlips[i].paySlips"
                  >
                    <a [href]="'//' + file" target="_blank" class="me-2">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>

          <!-- Save Button -->
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveCompanyDetailsSection()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </ng-container>
      <ng-container
        *ngIf="
          loanleads?.length &&
          ((loanleads[0].loanType === 'homeLoan' &&
            loanleads[0].employmentStatus === 'self-employed') ||
            (loanleads[0].loanType === 'lap' &&
              loanleads[0].employmentStatus === 'self-employed'))
        "
      >
        <div *ngIf="activeItem.name == 'financials'">
          <div>
            <div
              class="row mt-5"
              *ngFor="let kycs of financialReturns; let i = index"
            >
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Annual Year&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Year"
                    [(ngModel)]="kycs['pastIncomeTax']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('pastIncomeReturns', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].financialReturns &&
                    loanleads[0].financialReturns[i] &&
                    loanleads[0].financialReturns[i].pastIncomeReturns &&
                    loanleads[0].financialReturns[i].pastIncomeReturns.length >
                      0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].financialReturns[i]
                        .pastIncomeReturns
                    "
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Annual Year &nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Year"
                    [(ngModel)]="kycs['presentIncomeTax']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('presentIncomeReturns', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].financialReturns &&
                    loanleads[0].financialReturns[i] &&
                    loanleads[0].financialReturns[i].presentIncomeReturns &&
                    loanleads[0].financialReturns[i].presentIncomeReturns
                      .length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="
                      let file of loanleads[0].financialReturns[i]
                        .presentIncomeReturns
                    "
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveFinancialReturns()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
        <div *ngIf="activeItem.name == 'gst'">
          <div class="row">
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Business Proof </label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('gstCertificate', '*/*')"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                </div>
              </div>
              <div
                *ngIf="loanleads && loanleads[0]?.gstCertificate"
                class="mt-2"
              >
                <span
                  *ngFor="let file of loanleads[0]?.gstCertificate"
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
          <div>
            <div class="my-1 text-end">
              <button
                pButton
                pRipple
                type="button"
                class="p-button-primary me-2"
                (click)="addGstDetailsRow()"
              >
                <i class="pi pi-plus"></i>&nbsp;Add Additional GST
              </button>
            </div>
            <div class="row" *ngFor="let gstData of gstDetails; let i = index">
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Operating State&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter Operating State"
                    [(ngModel)]="gstData['operatingState']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>Filing Period&nbsp; </label>
                  </div>
                  <!-- <p-calendar
                    placeholder="Select Filing Period"
                    appendTo="body"
                    [showIcon]="true"
                    [(ngModel)]="gstData['filingPeriod']"
                    [showButtonBar]="true"
                  ></p-calendar> -->
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #filingPeriodcalendar
                      [(ngModel)]="gstData['filingPeriod']"
                      placeholder="Select Filing Period"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>
                    <!-- Custom Calendar Image Icon -->
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="filingPeriodcalendar.toggle()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label>GSTR-3B Sale&nbsp; </label>
                  </div>
                  <input
                    pInputText
                    class="rounded-lg"
                    [style]="{ width: '100%' }"
                    type="text"
                    placeholder="Enter GSTR-3B Sale"
                    [(ngModel)]="gstData['gst3BSale']"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="col-md-3 mt-2">
                <div>
                  <div class="my-1">
                    <label class="text-success">GSTR-3B Attachments</label>
                  </div>
                  <div class="d-flex">
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-info"
                      (click)="uploadFiles('gstDetails', '*/*', i)"
                    >
                      <i class="pi pi-upload"></i>&nbsp;Upload Files
                    </button>
                    <button
                      pButton
                      pRipple
                      type="button"
                      class="p-button-danger ml-1"
                      *ngIf="i > 0"
                      (click)="deleteGstDetailsRow(i)"
                    >
                      <i class="pi pi-times"></i>
                    </button>
                  </div>
                </div>
                <div
                  *ngIf="
                    loanleads &&
                    loanleads[0].gstDetails &&
                    loanleads[0].gstDetails[i] &&
                    loanleads[0].gstDetails[i].gstDetails &&
                    loanleads[0].gstDetails[i].gstDetails.length > 0
                  "
                  class="mt-2"
                >
                  <span
                    *ngFor="let file of loanleads[0].gstDetails[i].gstDetails"
                    class="me-2"
                  >
                    <a [href]="'//' + file" target="_blank">
                      <i
                        [class]="getFileIcon(file.split('.').pop())"
                        class="file-icon"
                      ></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 text-center">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="saveGstDetails()"
            >
              <i class="pi pi-save"></i>&nbsp;Save
            </button>
          </div>
        </div>
      </ng-container>
      <div *ngIf="activeItem.name == 'bankStatements'">
        <div>
          <!-- <div class="">
            <h3 style="font-weight: bold; color: #000">Banking Details</h3>
          </div> -->
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addBankStatementsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Banking Details
            </button>
          </div>
          <div
            class="row"
            *ngFor="let statements of bankStatements; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="statements['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Account Type&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Account Type"
                  [(ngModel)]="statements['accountType']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>From&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select Date"
                  appendTo="body"
                  [style]="{ width: '100%' }"
                  [showIcon]="true"
                  [(ngModel)]="statements['from']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #statementfromcalendar
                    [(ngModel)]="statements['from']"
                    placeholder="Select From Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass="w-100 custom-calendar-input"
                  ></p-calendar>
                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="statementfromcalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>To&nbsp; </label>
                </div>
                <!-- <p-calendar
                  placeholder="Select Date"
                  appendTo="body"
                  [style]="{ width: '100%' }"
                  [showIcon]="true"
                  [(ngModel)]="statements['to']"
                  [showButtonBar]="true"
                ></p-calendar> -->
                <div class="custom-calendar-wrapper w-100 position-relative">
                  <p-calendar
                    #statementtocalendar
                    [(ngModel)]="statements['to']"
                    placeholder="Select To Date"
                    [showIcon]="false"
                    appendTo="body"
                    [showButtonBar]="true"
                    styleClass="w-100 custom-calendar-input"
                  ></p-calendar>

                  <!-- Custom Calendar Image Icon -->
                  <img
                    src="../../../../assets/images/icons/calendar.svg"
                    alt="Calendar Icon"
                    class="calendar-custom-img"
                    (click)="statementtocalendar.toggle()"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('bankStatements', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteBankStatementsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].bankStatements &&
                  loanleads[0].bankStatements[i] &&
                  loanleads[0].bankStatements[i].bankStatements &&
                  loanleads[0].bankStatements[i].bankStatements.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of loanleads[0].bankStatements[i].bankStatements
                  "
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveBankStatementsSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'existingLoans'">
        <div>
          <div class="my-1 text-end">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addExistingLoansRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Existing Loan
            </button>
          </div>
          <div class="row" *ngFor="let loans of existingLoans; let i = index">
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Bank Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Bank Name"
                  [(ngModel)]="loans['bankName']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Loan Type&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Loan Type"
                  [(ngModel)]="loans['loanType']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>EMI Amount&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter EMI Amount"
                  [(ngModel)]="loans['emiAmount']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>EMI Closing Date&nbsp; </label>
                </div>
                <div class="d-flex">
                  <!-- <p-calendar
                    placeholder="Select EMI Closing Date"
                    appendTo="body"
                    [showIcon]="true"
                    [showButtonBar]="true"
                    [(ngModel)]="loans['emiClosingDate']"
                  ></p-calendar> -->
                  <div class="custom-calendar-wrapper w-100 position-relative">
                    <p-calendar
                      #calendar
                      [(ngModel)]="loans['emiClosingDate']"
                      placeholder="Select EMI Closing Date"
                      [showIcon]="false"
                      appendTo="body"
                      [showButtonBar]="true"
                      styleClass="w-100 custom-calendar-input"
                    ></p-calendar>

                    <!-- Custom Calendar Image Icon -->
                    <img
                      src="../../../../assets/images/icons/calendar.svg"
                      alt="Calendar Icon"
                      class="calendar-custom-img"
                      (click)="calendar.toggle()"
                    />
                  </div>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteExistingLoansRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveExistingLoans()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'otherDetails'">
        <div class="row">
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="text-success">Residence Proof</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('residenceProof', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div *ngIf="loanleads && loanleads[0]?.residenceProof" class="mt-2">
              <span
                *ngFor="let file of loanleads[0]?.residenceProof"
                class="me-2"
              >
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon"
                  ></i>
                </a>
              </span>
            </div>
          </div>
        </div>
        <div>
          <div class="my-1 text-start mt-4">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-primary me-2"
              (click)="addOtherAttachmentsRow()"
            >
              <i class="pi pi-plus"></i>&nbsp;Add Additional Documents
            </button>
          </div>
          <h5 style="font-weight: bold; color: #000">Other Documents</h5>
          <div
            class="row"
            *ngFor="let attachments of otherDocuments; let i = index"
          >
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label>Document Name&nbsp; </label>
                </div>
                <input
                  pInputText
                  class="rounded-lg"
                  [style]="{ width: '100%' }"
                  type="text"
                  placeholder="Enter Document Name"
                  [(ngModel)]="attachments['name']"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-md-3 mt-2">
              <div>
                <div class="my-1">
                  <label class="text-success">Attachments</label>
                </div>
                <div class="d-flex">
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-info"
                    (click)="uploadFiles('otherDocuments', '*/*', i)"
                  >
                    <i class="pi pi-upload"></i>&nbsp;Upload Files
                  </button>
                  <button
                    pButton
                    pRipple
                    type="button"
                    class="p-button-danger ml-1"
                    *ngIf="i > 0"
                    (click)="deleteOtherAttachmentsRow(i)"
                  >
                    <i class="pi pi-times"></i>
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  loanleads &&
                  loanleads[0].otherDocuments &&
                  loanleads[0].otherDocuments[i] &&
                  loanleads[0].otherDocuments[i].otherDocuments &&
                  loanleads[0].otherDocuments[i].otherDocuments.length > 0
                "
                class="mt-2"
              >
                <span
                  *ngFor="
                    let file of loanleads[0].otherDocuments[i].otherDocuments
                  "
                  class="me-2"
                >
                  <a [href]="'//' + file" target="_blank">
                    <i
                      [class]="getFileIcon(file.split('.').pop())"
                      class="file-icon"
                    ></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveOtherAttachments()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
      <div *ngIf="activeItem.name == 'saledetails'">
        <div class="row">
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="text-success">Sale Deed</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('saleDeed', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div *ngIf="loanleads && loanleads[0]?.saleDeed" class="mt-2">
              <span *ngFor="let file of loanleads[0]?.saleDeed" class="me-2">
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon"
                  ></i>
                </a>
              </span>
            </div>
          </div>
          <div class="col-md-3 mt-2">
            <div>
              <div class="my-1">
                <label class="text-success">Sale Agreement</label>
              </div>
              <div class="d-flex">
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-info"
                  (click)="uploadFiles('saleAgreement', '*/*')"
                >
                  <i class="pi pi-upload"></i>&nbsp;Upload Files
                </button>
              </div>
            </div>
            <div *ngIf="loanleads && loanleads[0]?.saleAgreement" class="mt-2">
              <span
                *ngFor="let file of loanleads[0]?.saleAgreement"
                class="me-2"
              >
                <a [href]="'//' + file" target="_blank">
                  <i
                    [class]="getFileIcon(file.split('.').pop())"
                    class="file-icon"
                  ></i>
                </a>
              </span>
            </div>
          </div>
        </div>
        <div class="my-3 text-center">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-primary me-2"
            (click)="saveSaleDetailsSection()"
          >
            <i class="pi pi-save"></i>&nbsp;Save
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
