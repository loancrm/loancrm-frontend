<!-- <ng-container class="sidemenu-sidebar">
  <p-sidebar [(visible)]="sidebarVisible" class="sidemenu-sidebar" #sidebarMenu>
    <ng-template pTemplate="header">
      <div class="custom-sidebar-header">
        <div class="d-flex">
          <div class="me-2">
            <img
              src="../../../assets/images/menu/logo.png"
              alt="Business Logo"
              width="50"
              height="40"
              class="rounded-circle"
            />
          </div>
          <div class="d-flex align-items-center">
            <span class="fw-bold"
              >The <strong style="color: #51c297">Fintalk</strong></span
            >
          </div>
        </div>
      </div>
    </ng-template>
    <div class="sidebar-menu">
      <div class="row">
        <ng-container *ngFor="let item of subFeatureMenuItems">
          <div class="col-4 pointer-cursor" *ngIf="item.condition">
            <div
              class="card shadow-lg text-center mt-3"
              (click)="showMenuSection()"
              routerLink="{{ item.routerLink }}"
              [queryParams]="{ v: version }"
            >
              <div routerLinkActive="active-menu-sidebar">
                <div>
                  <img
                    src="assets/images/menu/{{ item.image }}"
                    width="30"
                    height="30"
                  />
                </div>
                <div class="menu-subfeatures-text mt-1 text-capitalize">
                  {{ item.name }}
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
    <ng-template pTemplate="footer" *ngIf="userDetails">
      <div class="row m-2">
        <ng-container>
          <div class="card px-3 py-0 shadow">
            <div>
              <div class="fw-bold account-title">My Account</div>
            </div>
            <div
              class="light-blue-background p-2 mt-2 pointer-cursor"
              (click)="gotoAccountProfile()"
            >
              <div class="d-flex">
                <div class="me-2">
                  <div class="d-flex justify-content-center align-items-center">
                    <div
                      *ngIf="
                        userDetails &&
                        userDetails.userImage &&
                        userDetails.userImage.length > 0
                      "
                    >
                      <ng-container>
                        <a
                          [href]="'//' + userDetails.userImage[0]"
                          target="_blank"
                        >
                          <img
                            [src]="'//' + userDetails.userImage[0]"
                            alt="Image"
                            class="employeeImage"
                            style="height: 50px; width: 55px"
                          />
                        </a>
                      </ng-container>
                    </div>
                    <div
                      *ngIf="userDetails && userDetails.userImage.length == 0"
                    >
                      <tr class="text-center">
                        <img
                          class="employeeImage"
                          style="height: 50px; width: 55px"
                          src="../../../../assets/images/profile/profile.png"
                        />
                      </tr>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="text-primary fw-bold text-capitalize">
                    {{ userDetails.name | capitalizeFirst }}
                  </div>
                  <div
                    class="text-dark text-capitalize"
                    *ngIf="userDetails.userType"
                  >
                    <span>{{ getUserRoleName(userDetails.userType) }}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="pointer-cursor">
              <div
                class="card shadow-lg text-start mt-2 background-colorful-red"
                (click)="userLogout()"
              >
                <div class="d-flex justify-content-between">
                  <div class="d-flex">
                    <div class="me-3">
                      <img
                        src="assets/images/menu/home.png"
                        width="20"
                        height="20"
                      />
                    </div>
                    <div
                      class="menu-features-text mt-1 text-capitalize text-light"
                    >
                      Logout
                    </div>
                  </div>
                  <div class="text-light fw-bold d-flex align-items-center">
                    <i class="pi pi-angle-right"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </ng-template>
  </p-sidebar>
</ng-container> -->
<!--
<div
  *ngIf="!iswiz"
  class="aside aside-left aside-fixed d-flex flex-column flex-row-auto aside-minimize"
  [class.aside-on]="showMenu"
>
  <div class="brand flex-column-auto">
    <a (click)="gotoActiveHome()" class="brand-logo img-section mgn-up-10">
      <img class="Logo" src="assets/images/menu/home.png" alt="Home" />
    </a>
    <button
      class="brand-toggle btn btn-sm px-0 pointer-cursor"
      (click)="sidebarVisible = true"
    >
      <span class="svg-icon svg-icon svg-icon-xl">
        <i class="pi pi-bars text-light"></i>
      </span>
    </button>
  </div>
  <div id="kt_aside_menu_wrapper" class="aside-menu-wrapper flex-column-fluid">
    <div
      id="kt_aside_menu"
      data-menu-vertical="1"
      data-menu-scroll="1"
      data-menu-dropdown-timeout="500"
      class="aside-menu"
    >
      <ul class="menu-nav">
        <ng-container *ngFor="let item of subFeatureMenuItems">
          <li
            aria-haspopup="true"
            data-menu-toggle="hover"
            class="menu-item menu-item-submenu mt-3"
            (click)="showMenuSection()"
            *ngIf="item.condition && item.showOutside"
          >
            <a
              routerLink="{{ item.routerLink }}"
              [queryParams]="{ v: version }"
              class="menu-link menu-toggle"
            >
              <div routerLinkActive="active-menu">
                <span *ngIf="!item.displayNameConditions">
                  <span class="svg-icon menu-icon" pTooltip="{{ item.name }}">
                    <img
                      src="assets/images/menu/{{ item.thumbnail }}"
                      width="25"
                      height="25"
                    />
                  </span>
                </span>
                <span *ngIf="item.displayNameConditions">
                  <span
                    *ngFor="let nameConditions of item.displayNameConditions"
                  >
                    <span
                      class="svg-icon menu-icon"
                      *ngIf="nameConditions.condition"
                      pTooltip="{{ nameConditions.name }}"
                    >
                      <img
                        src="assets/images/menu/{{ item.thumbnail }}"
                        width="25"
                        height="25"
                      />
                    </span>
                  </span>
                </span>
              </div>
            </a>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
</div> -->

<!-- Search -->
<!-- <div class="px-3 pb-3">
    <div class="input-group search-bar">
      <span class="input-group-text bg-white border-end-0">
        <i class="bi bi-search text-warning"></i>
      </span>
      <input
        type="text"
        class="form-control border-start-0"
        placeholder="Find Something"
      />
    </div>
  </div> -->

<!-- Menu -->
<!-- <div class="sidebar d-flex flex-column">
<div class="sidebar-header text-center py-3 position-relative">
  <img src="../../../assets/images/logo.svg" alt="LoanCRM" class="logo" />

  <button
    class="btn btn-sm btn-toggle-sidebar position-absolute top-0 end-0 m-2"
    (click)="toggleSidebar()"
  >
    <i class="pi pi-angle-left" *ngIf="isSidebarCollapsed"></i>
    <i class="pi pi-angle-right" *ngIf="!isSidebarCollapsed"></i>
  </button>
</div>

  <div class="flex-grow-1 overflow-auto mt-2">
    <ul class="nav flex-column sidebar-menu">
      <li class="nav-item" *ngFor="let item of menuItems">
        <ng-container (click)="showMenuSection()">

          <a
            class="nav-link d-flex align-items-center mx-4"
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            [queryParams]="{ v: version }"
          >
            <img
              [src]="item.icon"
              alt="{{ item.label }}"
              class="me-3 sidebaricon"
              width="24"
              height="24"
            />
            <span class="sidebar-label d-none d-md-inline">
              {{ item.label }}
            </span>
          </a>
        </ng-container>
      </li>
    </ul>
  </div>

  <div class="sidebar-footer px-4">
    <ul class="nav flex-column sidebar-menu mb-2">
      <li class="nav-item">
        <a class="nav-link d-flex align-items-center" href="#">
          <img
            src="../../../assets/images/icons/logout.svg"
            class="me-3 sidebaricon"
          />
          <span class="sidebar-label d-none d-md-inline">Logout</span>
        </a>
      </li>
    </ul>
  </div>
</div> -->

<!-- <div
  [(visible)]="sidebarVisible"
  class="sidebar d-flex flex-column"
  [ngClass]="{ collapsed: !isSidebarVisible }"
>
  <div class="sidebar-header text-center py-3 position-relative">
    <img src="../../../assets/images/logo.svg" alt="LoanCRM" class="logo" />

    <button
      class="btn btn-sm btn-toggle-sidebar position-absolute top-0 end-0 m-2"
      (click)="toggleSidebar()"
    >
      <i
        class="pi"
        [ngClass]="{
          'pi-angle-left': isSidebarVisible,
          'pi-angle-right': !isSidebarVisible
        }"
      ></i>
    </button>
  </div>

  <div class="flex-grow-1 overflow-auto mt-2">
    <ul class="nav flex-column sidebar-menu">
      <li class="nav-item" *ngFor="let item of menuItems">
        <a
          class="nav-link d-flex align-items-center mx-4"
          [routerLink]="item.route"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <img
            [src]="item.icon"
            alt="{{ item.label }}"
            class="me-3 sidebaricon"
            width="24"
            height="24"
          />
          <span class="sidebar-label" *ngIf="isSidebarVisible">
            {{ item.label }}
          </span>
        </a>
      </li>
    </ul>
  </div>

  <div class="sidebar-footer px-4 mb-3">
    <a class="nav-link d-flex align-items-center" href="#">
      <img
        src="../../../assets/images/icons/logout.svg"
        class="me-3 sidebaricon"
      />
      <span class="sidebar-label" *ngIf="isSidebarVisible">Logout</span>
    </a>
  </div>
</div> -->

<!-- 🔲 Dark Overlay -->
<div
  class="sidebar-overlay"
  *ngIf="sidebarVisible"
  (click)="closeSidebar()"
></div>

<!-- 🧭 Sidebar -->
<div
  class="sidebar d-flex flex-column"
  [ngClass]="{ collapsed: !isSidebarVisible, 'mobile-visible': sidebarVisible }"
>
  <!-- Sidebar Header -->
  <div class="sidebar-header text-center py-2 position-relative">
    <img src="../../../assets/images/logo.svg" alt="LoanCRM" class="logo" />

    <!-- ❌ Close button for mobile -->
    <!-- <button
      class="btn btn-sm btn-close position-absolute top-0 end-0 m-2 d-md-none"
      (click)="closeSidebar()"
    ></button> -->
    <button
      class="btn btn-sm position-absolute top-0 end-0 m-2 d-md-none"
      (click)="closeSidebar()"
    >
      <img
        src="../../../assets/images/icons/rejects.svg"
        alt="Close"
        style="width: 18px; height: 18px"
      />
    </button>
  </div>

  <div
    class="searchbox d-flex align-items-center mx-3 mt-2"
    *ngIf="userDetails?.userType && userDetails.userType !== '3'"
  >
    <div class="input-group custom-search" style="min-width: 180px">
      <span class="input-group-text searchbtn">
        <img
          src="../../../assets/images/icons/search.svg"
          alt="Search"
          style="width: 14px; height: 14px"
        />
      </span>
      <input
        type="text"
        class="form-control small-input"
        placeholder="Find Something"
        aria-label="Search"
        [(ngModel)]="businessNameToSearch"
        (keyup.enter)="filterWithBusinessName()"
      />
    </div>
  </div>
  <!-- Sidebar Menu Items -->
  <div class="flex-grow-1 overflow-auto mt-2">
    <ul class="nav flex-column sidebar-menu">
      <li class="nav-item" *ngFor="let item of menuItems">
        <a
          class="nav-link d-flex align-items-center mx-4"
          [routerLink]="item.route"
          routerLinkActive="active"
          [queryParams]="{ v: version }"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeSidebar()"
        >
          <img
            [src]="item.icon"
            class="me-3 sidebaricon"
            width="24"
            height="24"
          />
          <span class="sidebar-label" *ngIf="isSidebarVisible">
            {{ item.label }}
          </span>
        </a>
      </li>
    </ul>
  </div>

  <!-- Footer -->
  <div class="sidebar-footer px-4 mb-3">
    <a class="nav-link d-flex align-items-center" href="#">
      <img
        src="../../../assets/images/icons/logout.svg"
        class="me-3 sidebaricon"
      />
      <span class="sidebar-label" *ngIf="isSidebarVisible">Logout</span>
    </a>
  </div>
</div>
