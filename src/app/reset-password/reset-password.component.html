<section
  class="d-flex align-items-center justify-content-center min-vh-100 background-radial-gradient"
>
  <div class="container-fluid">
    <div class="row min-vh-100">
      <div class="d-none d-lg-block col-lg-6"></div>

      <div
        class="col-12 col-lg-6 d-flex align-items-center justify-content-center"
      >
        <div
          class="card p-4 shadow-lg border-0"
          style="max-width: 480px; width: 100%; border-radius: 1rem"
        >
          <div class="text-center mb-3">
            <img src="assets/images/logo.svg" alt="LoanCRM Logo" height="35" />
            <h4 class="mt-3 text-primary fw-bolder">Reset Password</h4>
            <p class="text-muted small">Enter a strong new password</p>
          </div>

          <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
            <div class="form-group mb-2 position-relative">
              <label for="password" class="form-label fw-medium text-secondary"
                >New Password</label
              >
              <div class="p-inputgroup">
                <input
                  pInputText
                  [type]="showPassword ? 'text' : 'password'"
                  id="password"
                  class="form-control"
                  formControlName="password"
                  placeholder="Enter new password"
                />
                <span class="p-inputgroup-addon bg-white border-start-0">
                  <img
                    src="{{
                      showPassword
                        ? 'assets/images/icons/eye-slash.svg'
                        : 'assets/images/icons/eye.svg'
                    }}"
                    (click)="showPassword = !showPassword"
                    width="20"
                    height="20"
                    style="cursor: pointer"
                    alt="Toggle Password Visibility"
                  />
                </span>
              </div>
              <div class="error-placeholder">
                <div
                  class="form-text text-danger"
                  *ngIf="
                    password?.invalid && (password?.dirty || password?.touched)
                  "
                >
                  Password is required and must be at least 6 characters.
                </div>
              </div>
            </div>

            <div class="form-group mb-2 position-relative">
              <label
                for="confirmPassword"
                class="form-label fw-medium text-secondary"
                >Confirm Password</label
              >
              <div class="p-inputgroup">
                <input
                  [type]="showConfirmPassword ? 'text' : 'password'"
                  id="confirmPassword"
                  class="form-control"
                  formControlName="confirmPassword"
                  placeholder="Confirm password"
                />
                <span class="p-inputgroup-addon border-start-0">
                  <img
                    src="{{
                      showConfirmPassword
                        ? 'assets/images/icons/eye-slash.svg'
                        : 'assets/images/icons/eye.svg'
                    }}"
                    (click)="showConfirmPassword = !showConfirmPassword"
                    width="20"
                    height="20"
                    style="cursor: pointer"
                    alt="Toggle Password Visibility"
                  />
                </span>
              </div>
              <div class="error-placeholder">
                <div
                  class="form-text text-danger"
                  *ngIf="
                    confirmPassword?.invalid &&
                    (confirmPassword?.dirty || confirmPassword?.touched)
                  "
                >
                  Passwords must match.
                </div>
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-primary w-100 py-2 rounded-3"
              [disabled]="resetForm.invalid"
            >
              Reset Password
            </button>
          </form>

          <div class="text-center mt-3 back-btn">
            <a routerLink="/user/login" class="text-decoration-none fw-semibold"
              >‚Üê Back to Login</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
